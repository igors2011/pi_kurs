# Порядок расчёта себестоимости

## - Себестоимость рассчитывается для продукта в партии готовой продукции
### Партией будем считать общее число продукции, произведённой за выбранный месяц
### Для удобства будем называть продукт, для которого нужно рассчитать себестоимость, выбранным, а все продукты в сумме - общими.

1. Считаем общую сумму постоянных издержек за выбранный месяц
2. Считаем общую сумму общей продукции, произведённой в выбранный месяц, а также общую сумму выбранной продукции, произведённой в выбранный месяц
3. Находим коэффициент: какую часть выбранная продукция составляет от общей продукции 
за выбранный месяц
4. Найденный коэффициент умножаем на общую сумму постоянных издержек - получается 
сумма постоянных издержек на партию выбранной продукции
5. Найденное в п.4 значение делим на число продуктов за месяц - получится
значение ПОСТОЯННЫХ ИЗДЕРЖЕК на единицу продукции.
6. Для каждого из материалов находим последнее значение стоимости 
на выбранный месяц, умноженное на количество этого материала для выбранной продукции - получится значение ПЕРЕМЕННЫХ ИЗДЕРЖЕК на единицу продукции
7. Для каждого из сотрудников, закреплённых за данной продукцией в выбранный
месяц, находим коэффициент: какую часть составляет выбранная продукция от всей продукции, за которой он в выбранный месяц закреплён и умножаем соответствующий коэффициент на его зарплату.
8. Складываем все значения, найденные в п. 7, затем полученную сумму 
делим на общее число произведённого выбранного продукта за выбранный месяц - получим ИЗДЕЖКИ ЗАРПЛАТЫ СОТРУДНИКОВ.
9. Себестоимость продукта = ПОСТОЯННЫЕ ИЗДЕРЖКИ + ПЕРЕМЕННЫЕ ИЗДЕРЖКИ + ИЗДЕРЖКИ ЗАРПЛАТЫ СОТРУДНИКОВ.

Пример: за январь 2025 было произведено 2 партии топоров: в первой партии 100 шт., во второй партии 200 шт., всего 300 шт.
Также за январь 2025 было произведено 2 партии ножниц: в первой партии 50 шт., во второй партии 50 шт., всего - 100 шт.
Постоянные издержки составили: электроэнергия 15000 рублей, водоснабжение 10000 рублей.
Зарплата сотрудника 1 составила 40000 рублей, сотрудника 2 - 50000 рублей. Сотрудник 1 закреплён только за топорами, сотрудник 2 - за топорами и за ножницами.
Для производства топоров используется: дерево - 2 шт., металл - 1 шт. Стоимость единицы металла 200 рублей, единицы дерева - 100 рублей.
Нужно найти себестоимость топоров за январь.

1. Общая сумма постоянных издержек за январь = 15000 рублей (за электроэнергию) + 10000 рублей (за водоснабжение) = 25000 рублей.
2. Общая сумма общей продукции за январь = 100 шт. (1 партия топоров) + 200 шт. (2 партия топоров) + 50 шт. (1 партия ножниц) + 50 шт. (2 партия ножниц) = 400 шт.
Общая сумма выбранной продукции за январь = 100 шт. (1 партия топоров) + 200 шт. (2 партия топоров) = 300 шт.
3. Выбранная продукция составляет 300 / 400 общей продукции
4. 300 * 25000 / 400 = 18750.
5. 18750 рублей / 300 = 62.5 рублей.
6. 2 * 100 + 1 * 100 = 300.
7. Сотрудник 1 закреплён только за топорами, его значение = 1 * 40000 рублей = 40000 рублей. Сотрудник 2 закреплён за топорами и за ножницами, его значение = (300 / 400) * 50000 рублей = 37500 рублей.
8. 40000 рублей + 37500 рублей = 77500 рублей. 77500 рублей / 300 = 258 рублей.
9. 62.5 рублей + 300 рублей + 258 рублей = 620.5 рублей - итоговая себестоимость одного топора.

Перед запуском проекта необходимо выполнить скрипты db_init.sql и tables_init.sql, они создадут базу данных и таблицы. Также нужно настроить подключение к СУБД в файле application.properties.

### Имея рассчитанную себестоимость, можно рассчитывать рыночную цену, используя НДС, желаемую прибыль, ситуацию на рынке, ...
![alt text](kanevsky.png)